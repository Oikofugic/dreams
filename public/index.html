
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
    <title>Dream Portal</title>
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet"> 
    <link href="dream.css" type="text/css" rel="stylesheet" />

</head>

<body id="dreamImage">
  
  
<!-- Hamburger (closed menu) -->
  <div id="menu-open-button">
    <svg version="1.1" class="menulogo" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink" x="0px" y="0px"
     width="40px" height="36px" viewbox="0 0 40 36" enable-background="new 0 0 40 40" xml:space="preserve">
      <rect class="rect1" fill="#FFF" width="40" height="5.392"/>
      <rect class="rect2" x="0" y="12" fill="#FFF" width="40" height="5.393" />
      <rect class="rect3" x="0" y="24" fill="#FFF" width="40" height="5.393"/>
    </svg>
  </div>

  
 <!-- Open Menu -->
  <div id="new-menu">
    <ul id="menu-list">
      <li><a href="index.html" class="li">Home</a></li>
      <li><a href="about.html" class="li">About</a></li>
      <li><a href="participate.html" class="li">Participate</a></li>
      <li><a href="sitemap.html" class="li">Site Map</a></li>
    </ul>
    <div id="menu-close-button">
      <svg version="1.1" class="menulogo" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="36px" viewbox="0 0 40 36" enable-background="new 0 0 40 40" xml:space="preserve">
        <rect class="rect1" fill="#FFF" width="40" height="5.392" style="opacity: 0;"></rect>
        <rect class="rect2" x="0" y="12" fill="#FFF" width="40" height="5.393" style="transform: rotate(45deg) translate(6px, -15px);"></rect>
        <rect class="rect3" x="0" y="24" fill="#FFF" width="40" height="5.393" style="transform: rotate(-45deg) translate(-20px, 0px);"></rect>
      </svg>
    </div>
  </div>
  
<!-- End Menu -->
  
<section id="home" data-type="background" data-speed="10">
  <div class="header">
  </div>
</section>
<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script> 
<script src="./menu.js"></script>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36251023-1']);
  _gaq.push(['_setDomainName', 'jqueryscript.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'https://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>




<audio loop id="music" src="audio/ambientstreet.mp3"
   autoplay>
<p>Your browser does not support the audio element.</p>
  </audio> 

<div id="left"> 
  <img src="images/door.png" width="100%" onclick="next()"> 
 </div> 


<div id="right"> 
  <img src="images/door2.png" width="100%" onclick="next()"> 
 </div> 

 

<script type="text/javascript">
//these are your global variables that are shared between functions
var snd = document.getElementById('music'); 
var b = document.getElementById('dreamImage'); 
var imgDir = "images/";
var sndDir = "audio/"; 
var imgArray = ["spirals1", "fence1", "snow1", "babyplant1", "city1", "grass1", "birds1", "skysmall", "path1", "branches1"];
var usedimg =[]; 
var usedsnd =[];
var arrayIndex = 0;
var imgExt = ".gif";
var audioExt = ".mp3"; 
var n =0; 
var sndArray = ["family", "searchingfollowing", "mice", "baby", "espanol", "chasedbybigfoot", "flying", "deceaseddad", "schoolboy2", "talkshow"];


function next(){-
  snd.pause(); 
  console.log("button pressed");

  // n = Math.floor(Math.random()*imgArray.length); 
  // arrayIndex = n; 
  // console.log("the image array is " + arrayIndex);
  // audio/family.mp3

    var myrandomnumber = Math.floor(Math.random()*imgArray.length); 
    console.log("index is " + myrandomnumber);
    var imgvalue = imgArray[myrandomnumber]; 
    var sndvalue = sndArray[myrandomnumber];
    usedimg.push(imgvalue);
    usedsnd.push(sndvalue);
    //the push method adds the value to the used array
    console.log("the length of the used img array is "+usedimg.length);
    console.log(imgArray);
    imgArray.splice(myrandomnumber,1);
    sndArray.splice(myrandomnumber,1);
    //the splice array method subtracts the value at the index slot from the img array
    console.log(imgArray);
    if (imgArray.length === 0) {
        //if the img array is empty then fill it
        console.log("imgArray is empty"); 
        imgArray = usedimg;
        usedimg = [];
        //this switches the values between them and sets used to empty
    }
    if (sndArray.length === 0) {
        //if the img array is empty then fill it
        console.log("sndArray is empty"); 
        sndArray = usedsnd;
        usedsnd = [];
        //this switches the values between them and sets used to empty
    }
    //an alternate way of writing the conditional above is if(!setting.length){}
    

      snd.src = sndDir+sndvalue+audioExt; 
      snd.play(); 
      // var alltogether = imgDir+imgArray[arrayIndex]+imgExt;
      // b.style.backgroundImage= "url("+alltogether+")"; 

      b.style.backgroundImage= "url("+imgDir+imgvalue+imgExt+")"; 

    return value;




}



</script>

</body>
</html>
